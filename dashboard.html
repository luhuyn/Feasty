<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Feasty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<style type="text/css">
  ::-webkit-scrollbar:horizontal {
    display: none;
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
    background-color: #fff;
  }

  ::-webkit-scrollbar-thumb {
    background-color: #fff;
  }

  ::-webkit-scrollbar-track {
    background-color: #f8fafd;
  }
</style>

<body onload="onload()">
  <div class="container-fluid p-0">
    <div class="row m-0 p-0">
      <div class="col-2 pl-0 p-0" style="height: 100vh;">
        <div style="position: fixed;width: 220px;">
          <p class="text-center font-weight-bold mt-3 mb-4" style="font-size: 120%">Feasty.com</p>
          <div onclick="showAddfood()" id="addFood" class="addProcedure mt-3"
            style="width: 80%;background: #ff6f47;margin: auto;border-radius: 10px;padding: 12px;">
            <p class="mb-0 text-white">Add product &nbsp&nbsp<i class="fa fa-plus" aria-hidden="true"></i></p>
          </div>
          <div class="addProcedure mt-4" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="iconBar" style="width: 16%;padding: 7px;">
              <img src="image/Group 261.svg">
            </div>

            <script type="text/javascript">
              $(document).ready(function () {
                $('#addFood').click(function () {
                  $('#manageFood').css('font-weight', 'bold');
                  $('#textDashboard').css('font-weight', '400');
                  $('#manageOrder').css('font-weight', '400');
                  $('#manageAccount').css('font-weight', '400');

                  $('#manageFoodBox').css('display', 'block');
                  $('#dashboardBox').css('display', 'none');
                  $('#manageFoodOrder').css('display', 'none');
                  $('#manageAccountBox').css('display', 'none');

                });
              });

              $(document).ready(function () {
                $('#manageFood').click(function () {
                  $('#manageFood').css('font-weight', 'bold');
                  $('#textDashboard').css('font-weight', '400');
                  $('#manageOrder').css('font-weight', '400');
                  $('#manageAccount').css('font-weight', '400');
                  $('#manageFoodBox').css('display', 'block');
                  $('#dashboardBox').css('display', 'none');
                  $('#manageFoodOrder').css('display', 'none');
                  $('#manageAccountBox').css('display', 'none');

                });
              });
              $(document).ready(function () {
                $('#textDashboard').click(function () {
                  $('#textDashboard').css('font-weight', 'bold');
                  $('#manageOrder').css('font-weight', '400');
                  $('#manageAccount').css('font-weight', '400');
                  $('#manageFood').css('font-weight', '400');

                  $('#manageFoodBox').css('display', 'none');
                  $('#dashboardBox').css('display', 'block');
                  $('#manageFoodOrder').css('display', 'none');
                  $('#manageAccountBox').css('display', 'none');
                });
              });
              $(document).ready(function () {
                $('#manageOrder').click(function () {
                  $('#manageOrder').css('font-weight', 'bold');
                  $('#manageAccount').css('font-weight', '400');
                  $('#manageFood').css('font-weight', '400');
                  $('#textDashboard').css('font-weight', '400');

                  $('#manageFoodBox').css('display', 'none');
                  $('#dashboardBox').css('display', 'none');
                  $('#manageFoodOrder').css('display', 'block');
                  $('#manageAccountBox').css('display', 'none');
                });
              });
              $(document).ready(function () {
                $('#manageAccount').click(function () {
                  $('#manageAccount').css('font-weight', 'bold');
                  $('#manageFood').css('font-weight', '400');
                  $('#textDashboard').css('font-weight', '400');
                  $('#manageOrder').css('font-weight', '400');

                  $('#manageFoodBox').css('display', 'none');
                  $('#dashboardBox').css('display', 'none');
                  $('#manageFoodOrder').css('display', 'none');
                  $('#manageAccountBox').css('display', 'block');
                });
              });
            </script>
            <div class="textBar p-2 pr-0">
              <p id="textDashboard" class="mb-0" style="font-weight: bold;">Dashboard</p>
            </div>
          </div>

          <div class="addProcedure mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="iconBar" style="width: 16%;padding: 7px;">
              <img src="image/ic_settings_24px.svg">
            </div>
            <div class="textBar p-2 pr-0" style="width: 80%;">
              <p id="manageFood" class="mb-0">Manage Food</p>
            </div>
          </div>

          <div class="addProcedure mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="iconBar" style="width: 16%;padding: 7px;">
              <img src="image/ic_shopping_cart_24px.svg">
            </div>
            <div class="textBar p-2 pr-0" style="width: 80%;">
              <p id="manageOrder" class="mb-0">Manage Order</p>
            </div>
          </div>

          <div class="addProcedure mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="iconBar" style="width: 16%;padding: 7px;">
              <img src="image/ic_account_box_24px.svg">
            </div>
            <div class="textBar p-2 pr-0" style="width: 80%;">
              <p id="manageAccount" class="mb-0">Manage account</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-10  p-0">
        <div class="row m-0 p-0 ">
          <div class="col-12 bg-white" style="height: 70px;">

          </div>
          <div id="dashboardBox" class="col-12 bg-white mt-1" style="height: 570px;">
            <p class="font-weight-bold" style="font-size: 130%">Dashboard</p>
            <div id="foodInput" style="display: none;">
            </div>
            <div class="row m-0">
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="foodList pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Food</p>
                  <p id="demoFood" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="foodList pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Customer</p>
                  <p id="demoCustomer" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="foodList pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Orders</p>
                  <p id="demoPayment" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="foodList pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Reviews</p>
                  <p id="demoComment" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
            </div>
            <div class="row m-0">
              <div class="col-6 p-3">
                <div class="paymentDashboard pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">Orders</p>
                  <div id="scroll_height" data-spy="scroll" data-target="#myScroll" data-offset="10"
                    style="height:220px;overflow-y: scroll;padding-right: 10px;">
                    <table class="table table-borderless" style="margin-top: -25px;">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 80%;font-size: 115%;"></th>
                        </tr>
                      </thead>
                      <tbody id="showPaymentDashboard">

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="col-6 p-3">
                <div class="paymentDashboard pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">Food</p>
                  <div id="scrollHeight" data-spy="scroll" data-target="#myScroll" data-offset="10"
                    style="height:220px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                    <table class="table table-borderless" style="margin-top: -25px;">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 60%;font-size: 115%;"></th>
                          <th scope="col" style="width: 40%;font-size: 115%;" class="text-center"></th>
                        </tr>
                      </thead>
                      <tbody id="displayFoodManagement">
                      </tbody>

                    </table>
                  </div>
                </div>
              </div>

              <div class="col-6 p-3">
                <div class="paymentDashboard pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class="float-left mt-1">Reviews</p>
                  <div id="scrollHeight" data-spy="scroll" data-target="#myScroll" data-offset="10">
                    <table style="width: 100%">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 20%;font-size: 115%;">Order Number</th>
                          <th scope="col" style="width: 40%;font-size: 115%;">Customer Name</th>
                          <th scope="col" style="width: 40%;font-size: 115%;">Review</th>
                        </tr>
                      </thead>

                      <tbody id="showComment">
                        <tr>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="manageFoodOrder" class="col-12" style="display: none;">
            <p class="font-weight-bold" style="font-size: 130%">Orders</p>
            <div class="shadow-sm pt-2" style="width: 100%;height: 530px;background: #fff;">
              <div id="scroll_height" data-spy="scroll" data-target="#myScroll" data-offset="10"
                style="height:480px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                <div class="cartBox pl-5 pt-0 pb-4 pr-4" style="width: 100%;margin: auto;">
                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col" style="width: 20%;font-size: 115%;">Customer Name</th>
                        <th scope="col" style="width: 44%;font-size: 115%;" class="text-center">Food</th>
                        <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Total</th>
                        <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Status</th>
                      </tr>
                    </thead>
                    <tbody id="showPayment">

                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div id="manageAccountBox" class="col-12 bg-white mt-1" style="height: 570px;display: none;">
            <p class="font-weight-bold" style="font-size: 130%">Manage Account</p>
            <button onclick="showAddUser()" class="btn btn-primary">Add user</button>
            <div id="inputUser" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInput">User name</label>
                    <input type="text" class="form-control" id="addUserName" placeholder="User name">
                    <input class="float-right" type="text" id="textId" name="textPrice" style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Password</label>
                    <input type="email" class="form-control" id="inputPassword" placeholder="password">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Re-enter Password</label>
                    <input type="passwork" class="form-control" id="re_enterPassword" placeholder="Re-enter Password">
                  </div>
                </div>
                <div class="col-8 p-0  pl-3 pb-4">
                  <button id="addUser" onclick="AddUser()" class="btn btn-primary float-left"
                    style="background: #ff6f47;border: 1px solid #ff6f47;">Add</button>
                  <button id="updateUser" onclick="SaveUserAdmin()" class="btn btn-warning text-white float-left"
                    style="display: none;">Update</button>
                  <button onclick="CloseUser()" class="btn btn-danger text-white ml-1">Cancel</button>
                </div>

              </div>
            </div>

            <div id="changeUser" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInput">User name</label>
                    <input type="text" class="form-control" id="changeUsername" placeholder="username">
                    <input class="float-right" type="text" id="textId" name="textUsername"
                      style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Address</label>
                    <input type="text" class="form-control" id="changeAddress" placeholder="address">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Phone Number</label>
                    <input type="text" class="form-control" id="changePhoneNumber" placeholder="phone number">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Bank</label>
                    <select class="form-control" id="changeBank">
                      <option value="viettinbank">ViettinBank</option>
                      <option value="dongabank">DongABank</option>
                      <option value="namabank">NamABank</option>
                      <option value="COD">COD</option>
                    </select>
                  </div>
                </div>

                <div class="col-8 p-0  pl-3 pb-4">
                  <button id="updateUser" onclick="SaveUserAdmin()" class="btn btn-warning text-white float-left">Update</button>
                  <button onclick="CloseUser()" class="btn btn-danger text-white ml-1">Cancel</button>
                </div>
              </div>
            </div>

            <div class="cartBox pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%;margin: auto;">
              <div id="scroll_height" data-spy="scroll" data-target="#myScroll" data-offset="10"
                style="height:450px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                <table class="table table-borderless">
                  <thead>

                  </thead>
                  <tbody>
                    <div id="showManageUser" class="row m-0">

                    </div>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div id="manageFoodBox" class="col-12 bg-white mt-1" style="height: 570px;display: none;">
            <p class="font-weight-bold" style="font-size: 130%">Manage Food</p>
            <div id="inputFood" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInput">Food Name</label>
                    <input type="text" class="form-control" id="inputFoodName" placeholder="food name">
                    <input class="float-right" type="text" id="textId" name="textPrice" style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Food Description</label>
                    <input type="text" class="form-control" id="inputDescription" placeholder="food description">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInput">Price</label>
                    <input type="number" class="form-control" id="inputPrice" placeholder="price">
                  </div>
                </div>
                <div class="col-3 p-0 pt-3 pl-3" style="height: 100px;">
                  <div class="btn btn-rounded waves-effect btn-sm"
                    style="border-radius: 10px;width: 90%;background: #ff6f47">
                    <span class="text-white">Choose Image</span>
                    <input class="text-white" type="file" name="file" id="inputFoodImg">
                  </div>
                </div>
                <div class="col-8 p-0  pl-3 pb-4">
                  <button id="add_food" onclick="AddFood()" class="btn btn-primary float-left"
                    style="background: #ff6f47;border: 1px solid #ff6f47;">Add</button>
                  <button id="update_food" onclick="SaveUpdateFood()" class="btn btn-warning text-white float-left"
                    style="display: none;">Update</button>
                  <button onclick="CloseFood()" class="btn btn-danger text-white ml-1">Cancel</button>
                </div>

              </div>
            </div>

            <div class="cartBox pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%;margin: auto;">
              <div id="scrollHeight" data-spy="scroll" data-target="#myScroll" data-offset="10"
                style="height:450px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th scope="col" style="width: 40%;font-size: 115%;">Product</th>
                      <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">Price</th>
                      <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">Command</th>
                    </tr>
                  </thead>
                  <tbody id="showFoodManagement">

                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<script type="text/javascript">
  function CloseFood() {
    document.getElementById('inputFood').style.display = 'none';
    document.getElementById('scrollHeight').style.height = '450px';

  }

  function showAddfood() {
    document.getElementById('scrollHeight').style.height = '280px';
    document.getElementById('add_food').style.display = 'block';
    document.getElementById('update_food').style.display = 'none';
    document.getElementById('inputFood').style.display = 'block';
    document.getElementById('inputFoodName').value = '';
    document.getElementById('inputDescription').value = '';
    document.getElementById('inputPrice').value = '';
    document.getElementById('inputFoodImg').value = '';

  }
  var food = JSON.parse(localStorage.getItem('food'));
  document.getElementById("demoFood").innerHTML = food.length;
  var account = JSON.parse(localStorage.getItem('account'));
  document.getElementById("demoCustomer").innerHTML = account.length;
  var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
  document.getElementById("demoPayment").innerHTML = paymentFood.length - 1;
  var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
  document.getElementById("demoComment").innerHTML = commentCustomer.length - 1;

  var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
  if (paymentFood === null) {
    paymentFood = [];
    var paymentFood = [{}];
    localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
  }
  var idupFood = JSON.parse(localStorage.getItem('idupFood'));
  if (idupFood === null) {
    idupFood = [];
    var idupFood = 8;
    localStorage.setItem("idupFood", JSON.stringify(idupFood));
  }
  function AddFood() {
    var id = idupFood;
    var name = document.getElementById('inputFoodName').value;
    var description = document.getElementById('inputDescription').value;
    var price = document.getElementById('inputPrice').value;
    var photo = document.getElementById('inputFoodImg').value;
    var image = "image/" + photo.split('\\')[2];
    if (name != '' && price != '' && description != '' && photo != '') {
      var pushFood = { id, name, price, description, image };
      food.push(pushFood);
      localStorage.setItem("food", JSON.stringify(food));
      idupFood++;
      localStorage.setItem("idupFood", JSON.stringify(idupFood));
      ManageFood();
      console.log(food);
      var name = document.getElementById('inputFoodName').value = '';
      var description = document.getElementById('inputDescription').value = '';
      var price = document.getElementById('inputPrice').value = '';
      var image = document.getElementById('inputFoodImg').value = '';
    }
    else {
      alert("Please enter full information!");
    }
  }

  function DeleteFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        food.splice(i, 1);
        localStorage.setItem("food", JSON.stringify(food));
        ManageFood();
      }
    }
  }

  function UpdateFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        document.getElementById('inputFood').style.display = 'block';
        document.getElementById("add_food").style.display = 'none';
        document.getElementById("update_food").style.display = 'block';
        document.getElementById("textId").value = food[i].id;
        document.getElementById("inputFoodName").value = food[i].name;
        document.getElementById("inputDescription").value = food[i].description;
        document.getElementById("inputPrice").value = food[i].price;
        document.getElementById("inputFoodImg").value = food[i].image;
        break;
      }
    }
  }
  function SaveUpdateFood() {
    var idchange = document.getElementById("textId").value;
    for (var i = 0; i < food.length; i++) {
      if (idchange == food[i].id) {
        food[i].name = document.getElementById("inputFoodName").value;
        food[i].price = document.getElementById("inputPrice").value;
        food[i].description = document.getElementById("inputDescription").value;
        var imageChange = document.getElementById('inputFoodImg').value;
        localStorage.setItem("food", JSON.stringify(food));
        if (imageChange == '') {

        } else {
          var picture = imageChange.split('\\')[2];
          food[i].image = picture;
        }
        if (food[i].type == 0 && imageChange != '') {
          food.splice(i, 1);
          localStorage.setItem("food", JSON.stringify(food));
          AddFood();
          ManageFood();
        }
        ManageFood();
        break;
      }
    }
    document.getElementById('inputFoodName').value = '';
    document.getElementById('inputDescription').value = '';
    document.getElementById('inputPrice').value = '';
    document.getElementById('inputFoodImg').value = '';
    document.getElementById("addfood").style.display = 'block';
    document.getElementById("updatefood").style.display = 'none';
  }


  function ManageFood() {
    document.getElementById("showFoodManagement").innerHTML = '';
    var food = JSON.parse(localStorage.getItem('food'));
    for (let i = 0; i < food.length; i++) {
      var showManagement = `<tr>
      <td><div>
        <div class="cartImgBox float-left bg-warning" style="width: 30%;height: 80px;">
          <img src="`+ food[i].image + `" width="100%" height="100%">
        </div>
        <div class="cartInfoBox float-left pl-3" style="width: 70%;height: 80px;">
          <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ food[i].name + `</p>
          <p style="font-size: 85%">`+ food[i].description + `</p>
        </div>
      </div> </td>
      
      <td class="text-center"><p class="mt-2" style="padding:5px;">`+ food[i].price + `</p> </td>
      <td class="text-center">'<div class="btn btn-danger text-white ml-2" onclick="DeleteFood(`+ food[i].id + `)" style="width: 16%;border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
  <div class="btn btn-warning  text-white mr-2" onclick="UpdateFood(`+ food[i].id + `)" style="width: 16%;border-radius: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div> </td>
</tr>`;
      document.getElementById("showFoodManagement").innerHTML += showManagement;
    }
  }

  function FoodManagement() {
    document.getElementById("displayFoodManagement").innerHTML = '';
    var food = JSON.parse(localStorage.getItem('food'));
    for (let i = 0; i < food.length; i++) {
      var showManagement = `<tr>
      <td><div>
        <div class="cartImgBox float-left bg-warning" style="width: 30%;height: 80px;">
          <img src="`+ food[i].image + `" width="100%" height="100%">
        </div>
        <div class="cartInfoBox float-left pl-3" style="width: 70%;height: 80px;">
          <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ food[i].name + `</p>
          <p style="font-size: 85%">`+ food[i].description + `</p>
        </div>
      </div> </td>
      
      <td class="text-center"><p class="mt-2" style="padding:5px;">`+ food[i].price + `</p> </td>
    
</tr>`;
      document.getElementById("displayFoodManagement").innerHTML += showManagement;
    }
  }



  function showPayment() {
    document.getElementById("showPayment").innerHTML = '';
    var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
    for (let i = 1; i < paymentFood.length; i++) {
      var showPaymentCart = `<tr style="border-bottom:1px solid #ccc;">
      <td>
      <p>Recipient's name: `+ paymentFood[i].customerName + `</p>
      <p>Address: `+ paymentFood[i].customerAddress + `</p>
      <p>Phone Number: `+ paymentFood[i].customerPhoneNumber + `</p>
       <p>Bank: `+ paymentFood[i].bank + `</p>
      </td>
      
      <td>`+ paymentFood[i].showDetailOrder + `<p id="showPaymentComment` + paymentFood[i].paymentId + `"></p></td>
      <td class="text-center">`+ paymentFood[i].priceTotal + `</td>
      <td class="text-center"><button id="showStatus`+ paymentFood[i].paymentId + `" onclick="verifyPayment(` + paymentFood[i].ipaymentId + `)" class="btn btn-warning text-white">` + paymentFood[i].status + `</button></td>
    </tr>
    `
      document.getElementById("showPayment").innerHTML += showPaymentCart;
    }
  }

  function showPaymentDashboard() {
    document.getElementById("showPaymentDashboard").innerHTML = '';
    var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
    for (let i = 1; i < paymentFood.length; i++) {
      var showPaymentCart = `<tr style="border-bottom:1px solid #ccc;">
      <td>`+ paymentFood[i].showDetailOrder + `</td>
    </tr>
    `
      document.getElementById("showPaymentDashboard").innerHTML += showPaymentCart;
    }
  }

  function verifyPayment(id) {
    for (let i = 0; i < paymentFood.length; i++) {
      if (id == paymentFood[i].paymentId) {
        paymentFood[i].status = "To Receive";
        localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
        document.getElementById("showStatus" + id).innerHTML = paymentFood[i].status;
      }
    }
  }

  function showComment() {
    document.getElementById("showComment").innerHTML = '';
    var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
    var account = JSON.parse(localStorage.getItem('account'));
    for (let i = 1; i < commentCustomer.length; i++) {
      var showComment = `<td>` + commentCustomer[i].idPayment + `</td>
    <td>`+ account[commentCustomer[i].idUser].username + `</td>
    <td>`+ commentCustomer[i].commentContent + `</td>
    ` ;
      document.getElementById("showPaymentComment" + commentCustomer[i].idPayment).innerHTML = "Review: " + commentCustomer[i].commentContent;
      document.getElementById("showComment").innerHTML += showComment;
    }
  }
</script>


<script type="text/javascript">
  function CloseUser() {
    document.getElementById('inputUser').style.display = 'none';
    document.getElementById('scroll_height').style.height = '450px';
  }
  function showAddUser() {
    document.getElementById('scroll_height').style.height = '280px';
    document.getElementById('addUser').style.display = 'block';
    document.getElementById('updateUser').style.display = 'none';
    document.getElementById('inputUser').style.display = 'block';
    document.getElementById('changeUser').style.display = 'none';
    document.getElementById('inputFoodName').value = '';
    document.getElementById('inputDescription').value = '';
    document.getElementById('inputPrice').value = '';
    document.getElementById('inputFoodImg').value = '';
  }
  var accountInfo = [];
  if (aaccountInfo === null) {
    accountInfo = [];
  }
  var account = [];
  var account = JSON.parse(localStorage.getItem('account'));
  if (account === null) {
    account = [];
  }
  var changeIdUser = 0;
  function editUserAdmin(id) {
    var accountInfo = JSON.parse(localStorage.getItem('accountInfo'));
    document.getElementById('inputUser').style.display = 'none';
    document.getElementById('changeUser').style.display = 'block';
    for (var i = 1; i < accountInfo.length; i++) {
      if (id == accountInfo[i].accountPayment) {
        changeIdUser = accountInfo[i].accountPayment;
        document.getElementById("textId").value = i;
        document.getElementById("changeUsername").value = accountInfo[i].customerName;
        document.getElementById("changeAddress").value = accountInfo[i].customerAddress;
        document.getElementById("changePhoneNumber").value = accountInfo[i].customerPhoneNumber;
        document.getElementById("changeBank").value = accountInfo[i].bank;
        break;
      }
    }
  }

  function SaveUserAdmin() {
    var accountInfo = JSON.parse(localStorage.getItem('accountInfo'));
    for (var i = 0; i < accountInfo.length; i++) {
      if (changeIdUser == accountInfo[i].accountPayment) {
        accountInfo[i].customerName = document.getElementById("changeUsername").value;
        accountInfo[i].customerAddress = document.getElementById("changeAddress").value;
        accountInfo[i].customerPhoneNumber = document.getElementById("changePhoneNumber").value;
        accountInfo[i].bank = document.getElementById("changeBank").value;
        localStorage.setItem("accountInfo", JSON.stringify(accountInfo));
        ManagementUser();
        break;
      }
    }
    document.getElementById('changeUsername').value = '';
    document.getElementById('changeAddress').value = '';
    document.getElementById('changePhoneNumber').value = '';
    document.getElementById('changeBank').value = '';

  }

  var idup = JSON.parse(localStorage.getItem('idup'));
  function AddUser() {
    var checkUsername = 0;
    var id = idup;
    var username = document.getElementById('addUserName').value;
    var password = document.getElementById('inputPassword').value;
    var repassword = document.getElementById('re_enterPassword').value;
    var level = 0;
    if (username != '' && password != '' && repassword != '' && password == repassword) {
      for (let i = 0; i < account.length; i++) {
        if (account[i].username == username) {
          alert("Account has already existed");
          checkUsername = 1;
          break;
        }
      }
      if (checkUsername == 0) {
        accountSignupAdmin = { id, username, password, level };
        account.push(accountSignupAdmin);
        localStorage.setItem("account", JSON.stringify(account));
        idup++;
        localStorage.setItem("idup", JSON.stringify(idup));
        console.log(account);
        alert("Succesfully registered");
        ManagementUser();
      }
    } else {
      alert("Failed to register")
    }
  }

  function deleteUserAdmin(id) {
    var account = JSON.parse(localStorage.getItem('account'));
    for (var i = 0; i < account.length; i++) {
      if (id == account[i].id) {
        account.splice(i, 1);
        localStorage.setItem("account", JSON.stringify(account));
        ManagementUser();
        break;
      }
    }
  }

  function ManagementUser() {
    document.getElementById("showManageUser").innerHTML = '';
    var account = JSON.parse(localStorage.getItem('account'));
    for (let i = 0; i < account.length; i++) {
      var showManagement = `<div class="col-4" style="height: 100px;padding:10px; padding-right:50px;">
      <div class="adminInfo float-left" style="width: 60%">
        <p class="font-weight-bold" style="font-size: 120%">`+ account[i].username + `</p>
        <p>Orders - 3</p>
      </div>
      <div class="adminFunction float-right" style="width: 40%;display: flex;">
      <div class="btn btn-warning mr-1 text-white" onclick="editUserAdmin(`+ account[i].id + `)" style="width: 40%;border-radius: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div>
        <div class="btn btn-danger text-white" onclick="deleteUserAdmin(`+ account[i].id + `)" style="width: 40%;border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
    </div></div>`;
      document.getElementById("showManageUser").innerHTML += showManagement;
    }
  }
  function onload() {
    showPayment();
    ManageFood();
    showPaymentDashboard();
    FoodManagement();
    showComment();
    ManagementUser();
  }
</script>
</html>