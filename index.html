<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feasty</title>
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>

<body onload="onloadAll()">
  <style type="text/css">
    @import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      list-style: none;
      text-decoration: none;
    }

    nav {
      height: 80px;
      width: 100%;
    }

    label.logo {
      color: black;
      font-size: 33px;
      line-height: 80px;
      padding: 0 140px;
      font-weight: 600;
      font-family: 'Poppins', sans-serif;
    }

    nav ul {
      float: right;
      margin-right: 60px;
    }

    nav ul li {
      display: inline-block;
      line-height: 80px;
      margin: 0 8px;
    }

    nav ul li a {
      color: black;
      font-weight: 400;
      font-size: 16px;
      padding: 7px 13px;
      border-radius: 3px;
      font-family: 'Poppins', sans-serif;
    }

    a.active,
    a:hover {
      background: #fb9200;
      transition: .5s;
      color: #fff;
    }

    .buttonCheck {
      font-size: 30px;
      color: white;
      float: right;
      line-height: 80px;
      margin-right: 40px;
      cursor: pointer;
      display: none;
    }

    #check {
      display: none;
    }

    @media (max-width: 952px) {
      label.logo {
        font-size: 27px;
        padding-left: 25px;
      }

      nav ul li a {
        font-size: 16px;
      }
    }

    @media (max-width: 858px) {
      .buttonCheck {
        display: block;
        margin-right: 40px;
      }

      ul {
        position: fixed;
        width: 100%;
        height: 100vh;
        background: #2c3e50;
        top: 80px;
        left: -100%;
        text-align: center;
        transition: all .5s;
      }

      nav ul li {
        display: block;
        margin: 50px 0;
        line-height: 30px;
      }

      nav ul li a {
        font-size: 20px;
      }

      a:hover,
      a.active {
        background: none;
        color: #0082e6;
      }

      #check:checked~ul {
        left: 0;
      }
    }

    .buttonOrder:hover {
      opacity: 0.8;
      transition: 0.6s;
    }

    .cartImgBox {
      width: 40%;
      height: 80px;
    }

    .cartInfoBox {
      width: 60%;
      height: 80px;
    }

    input.cartQuantity {
      width: 50%;
      outline: none;
      border: 0;
      border-radius: 8px;
      padding: 5px;
      padding-left: 15px;
      text-align: center;
    }

    .cartDeletebtn {
      padding: 8px;
      margin: auto;
      color: #fff;
    }

    ::-webkit-scrollbar:horizontal {
      display: none;
    }

    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
      background-color: #fff;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #fff;
    }

    ::-webkit-scrollbar-track {
      background-color: #f8fafd;
    }
  </style>

  <style type="text/css">
    .frame .box {
      padding-left: 10px !important;
    }

    .frame .box img {
      opacity: 1;
    }

    .frame .box p {
      color: white;
      opacity: 0.8;

    }

    .frame .box a {
      text-decoration: none;
    }

    .frame .box:hover {
      background: transparent;
      color: white;
      background-color: rgba(255, 255, 255, 0.2);
      padding: 1rem;
      border-radius: 10px;
    }

    .frame .box p:hover {
      color: white;
      opacity: 1;
    }
  </style>

  <div class="container-fluid p-0" style="background: url(background.png) no-repeat;background-size: cover;height: calc(100vh);">
    <p style="font-size: 240%;font-weight: bold;margin-left: 140px;position: absolute;margin-top: 110px;">Your Favorite Food<br>Delivered Hot &<br> Fresh </p>
    <p style="margin-left: 140px;position: absolute;margin-top: 295px;">Healthy switcher chefs do all the prep work, like peeding,<br> chopping & marinating, so you can cook a fresh food</p>
    <button style="margin-left: 140px;position: absolute;margin-top: 370px;background: #fb9200;padding: 10px;border: 0;border-radius: 30px;color: #fff;padding-left: 30px;padding-right: 30px;-webkit-box-shadow: 10px 13px 38px -19px rgba(251,146,0,1);-moz-box-shadow: 10px 13px 38px -19px rgba(251,146,0,1);box-shadow: 10px 13px 38px -19px rgba(251,146,0,1);">Đặt ngay bây giờ</button>
    <nav id="menu" style="position: fixed;z-index: 999;">
      <input type="checkbox" id="check">
      <label for="check" class="buttonCheck">
        <i class="fas fa-bars"></i>
      </label>
      <label class="logo">Feasty</label>
      <ul>
        <li><a onclick="homePage()" class="active text-white">Homepage</a></li>
        <li><a data-toggle="modal" data-target=".orderCart">Cart<div style="width: 20px;height: 20px;background: #fb9200;position: absolute;top: 25px;margin-left: 50px;border-radius: 50%">
              <p id="orderNumber" style="position: absolute;margin-top: -30px;margin-left: 5px;color: #fff;font-size: 80%">0</p>
            </div> </a></li>

        <li><a>Contact</a></li>
        <li><a id="menuLoginbtn" data-toggle="modal" data-target=".login">Login</a></li>
        <li><a id="menuAccountLogin" class="menuAccountHide" style="display: none;"></a>
        </li>
      </ul>
      <div id="menuLogout">
        <div id="menuHeader" class="frame p-3" style="margin: 0 auto;width: 300px; background: orange; border-radius: 8px; font-family: Helvetica, Arial, sans-serif;padding: 0.5rem;position: absolute;z-index: 999;margin-left: calc(100vw - 250px);margin-top: -25px;display: none;">
          <p id="welcomeUser" class="text-white" style="opacity: 0.9"></p>
          <div id="orderManagement" class="box p-1" style="height: 35px;display: none;">
            <a href="dashboard.html">
              <p><i class="fa fa-list-alt text-white mr-3" aria-hidden="true"></i>Management</p>
            </a>
          </div>
          <div class="box p-1" data-toggle="modal" data-target=".bd-example-modal-lg22" style="height: 35px">
            <p><i class="fa fa-list-alt text-white mr-3" aria-hidden="true"></i>My Orders</p>
          </div>
          <div class="box p-1" data-toggle="modal" data-target=".bd-example-modal-sm33" style="height: 35px">
            <p><i class="fa fa-key text-white mr-3" aria-hidden="true"></i>Change Password</p>
          </div>
          <div class="box p-1" style="height: 35px">
            <p onclick="Logout()"><i class="fa fa-sign-out text-white mr-3" aria-hidden="true"></i>Logout</p>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <div class="modal fade bd-example-modal-lg22" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content p-3" style="width: 150%;left: -200px;">
        <p class="font-weight-bold" style="font-size: 110%">My Orders</p>
        <div data-spy="scroll" data-target="#myScroll" data-offset="10"
          style="height:520px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
          <table class="table table-borderless">
            <thead>
              <tr>
                <th scope="col" style="width: 20%;font-size: 115%;">Customer Name</th>
                <th scope="col" style="width: 44%;font-size: 115%;" class="text-center">Dishes</th>
                <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Total</th>
                <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Status</th>
              </tr>
            </thead>
            <tbody id="showUserPayment">

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade bd-example-modal-sm33 mt-5" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel33"
    aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="iconPopup " style="margin: 0 auto; width: 27%;height: 100%; margin-top: 20%;">
          <img id="noTick" src="tick.png" width="100%">
          <img id="errorTick" src="ticknot.png" width="100%" style="display: none;">
          <img id="changeImg" src="defender.png" width="100%" style="display: none;">
        </div>
        <div id="changePassword" class=" iconPopup mt-4" style="margin: 0 auto; width: 80%;margin-bottom: 10%;">
          <p class="text-center mb-3" style="font-weight: bold;margin-bottom: 2%;font-size: 120%">Change Password</p>
          <p class="mt-3" style="margin-bottom: 2%;">Enter current password</p>
          <input type="password" name="password" id="currentPassword" class="form-control ">
          <p class="mt-1" style="margin-bottom: 2%;">Enter new password</p>
          <input type="password" name="pass" id="newPassword" class="form-control ">
          <p class="mt-1" style="margin-bottom: 2%;">Re-enter new password</p>
          <input type="password" name="pass" id="repeatPassword" class="form-control ">
          <p id="notiChangePass" class="mt-4 text-center mb-0 " style="font-size: 90%;color: red;"></p>
          <button class="btn btn-warning float-right mt-3" onclick="changePassword()">Change</button>
        </div>
      </div>
    </div>
  </div>

  <style type="text/css">
    .procedureBox {
      width: 100%;
      border-top-right-radius: 40px;
      border-bottom-left-radius: 40px;
    }

    .imageBox {
      width: 100%;
      height: 150px;
    }

    .imageBox img {
      border-top-right-radius: 35px;
      border-bottom-left-radius: 35px;
    }

    .infoBox {
      width: 100%;
      border-bottom-left-radius: 35px;
    }

    .starBox {
      width: 50%;
      height: 50px;
    }

    .orderBox {
      width: 50%;
      height: 50px;
    }

    .buttonOrder {
      width: 80%;
      height: 40px;
      background: #fb9200;
      border-top-left-radius: 15px;
      padding-left: 2rem;
    }

    .buttonOrder i {
      color: #fff;
      font-size: 150%;
    }

    .scrollAddEvent {
      background: #fff;
    }

    .scrollAddEvent_text {
      color: black
    }
  </style>

  <div class="modal fade login mt-5 " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content ">
        <div class="cartBox" style="width: 100%;margin: auto;">
          <div class="loginImgBox float-left" style="width: 50%;height: 450px;background: pink;">
            <img src="img_login.jpeg" width="100%" height="100%">
          </div>
          <div id="loginBox">
            <div class="loginInfoBox float-right p-5" style="width: 50%;height: 450px;">
              <p class="text-center font-weight-bold" style="font-size: 140%">Login</p>
              <label class="font-weight-bold mt-3">Username</label>
              <input id="usernameLogin" type="text" class="form-control" aria-describedby="emailHelp"
                placeholder="Enter username" style="outline: none;">
              <label class="mt-3 font-weight-bold">Password</label>
              <input id="passwordLogin" type="password" class="form-control" aria-describedby="emailHelp"
                placeholder="Enter password">
              <button onclick="Login()" class="btn btn-primary mt-4" style="width: 100%;background: #fb9200;border: 0;outline: none;">Login</button>
              <p id="statusLogin" class="text-center mt-4" style="font-size: 90%;color: red;"></p>
              <p onclick="movetoSignup()" class="text-center mt-3" style="font-size: 90%"> You do not have any account before. Register<strong style="color:#fb9200 "> here</strong> </p>
            </div>
          </div>
          <div id="signupBox" style="display: none;">
            <div class="signup_info_box float-right p-4 pl-5 pr-5" style="width: 50%;height: 450px;">
              <p class="text-center font-weight-bold" style="font-size: 140%">Register</p>
              <label class="font-weight-bold mt-1">Username</label>
              <input id="usernameSignup" type="email" class="form-control" aria-describedby="emailHelp" placeholder="Enter username" style="outline: none;">
              <label class="mt-3 font-weight-bold">Password</label>
              <input id="passwordSignup" type="password" class="form-control" aria-describedby="emailHelp" placeholder="Enter password">
              <label class="mt-3 font-weight-bold">Re-enter password</label>
              <input id="repasswordSignup" type="password" class="form-control" aria-describedby="emailHelp" placeholder="Re-enter Pasword">
              <button onclick="Signup()" class="btn btn-primary mt-4" style="width: 100%;background: #fb9200;border: 0;outline: none;"> Register</button>
              <p id="statusSignup" class="text-center mt-3 mb-1" style="font-size: 90%;color: red;"></p>
              <p onclick="movetoLogin()" class="text-center mt-0" style="font-size: 90%">You have already had an account. Login<strong style="color:#fb9200 "> here</strong> </p>
            </div>
          </div>
          <div style="clear: both;"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade orderCart mt-3 " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content ">
        <div id="checkoutForm" class="cartBox pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%;margin: auto;">
          <p class="ml-2" style="font-size: 130%;font-weight: bold;">Your cart</p>
          <div data-spy="scroll" data-target="#myScroll" data-offset="10"
            style="height:340px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" style="width: 40%;font-size: 115%;">Product</th>
                  <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">Quantity</th>
                  <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">Price</th>
                  <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">Command</th>
                </tr>
              </thead>
              <tbody id="showOrderCart">
              </tbody>
            </table>
          </div>
          <div class="float-left pl-2" style="width: 30%;">
            <p class="font-weight-bold mt-2" style="font-size: 115%">Total Price</p>
          </div>
          <div class="float-right pr-5" style="width: 30%;">
            <p id="totalPrice" class="font-weight-bold float-right mt-2" style="font-size: 115%"> </p>
          </div>
          <div style="clear: both;"></div>
          <div onclick="checkout()" class="btn mr-5 text-white float-right" style="background: #fb9200;">Check Out</div>
          <div style="clear: both;"></div>
        </div>
        <div id="paymentForm" class="p-5" style="width: 100%;height: 400px;display: none;">
          <div class="optionBox float-left" style="width: 60%;">
            <p class="font-weight-bold" style="font-size: 130%">Check Out</p>
            <p class="mb-2 font-weight-bold">Payment Options</p>
            <div class="paymentOptionBox" style="width: 60%">
              <div class="float-left pr-1 pb-1" style="width: 50%;height: 80px;">
                <img onclick="viettinbank()" class="viettinbankPayment " src="image/Vietinbank201808092833.png"
                  width="100%" height="100%" style="border: 1px solid #d7d7d7;">
              </div>
              <div class="float-right pr-1 pb-1" style="width: 50%;height: 80px;">
                <img onclick="donga()" class="dongaPayment" src="image/DongABank201808092734.png" width="100%"
                  height="100%" style="border: 1px solid #d7d7d7;">
              </div>
              <div class="float-left pr-1 pb-1" style="width: 50%;height: 80px;">
                <img onclick="nama()" class="namaPayment" src="image/NamABank201808092054.png" width="100%"
                  height="100%" style="border: 1px solid #d7d7d7;">
              </div>
              <div class="float-right pr-1 pb-1" style="width: 50%;height: 80px;">
                <img onclick="sacom()" class="sacomPayment pl-3 pr-3" src="image/images.png" width="100%" height="100%"
                  style="border: 1px solid #d7d7d7;">
              </div>
              <div style="clear: both;"></div>
            </div>
          </div>
          <div class="optionBox p-3 float-right" style="width: 40%;height: 100px;">
            <label for="exampleInput">Recipient's name</label>
            <input id="customerName" type="text" class="form-control " id="exampleInput" aria-describedby="emailHelp">
            <label for="exampleInput" class="mt-3">Phone Number</label>
            <input id="customerPhoneNumber" type="text" class="form-control " id="exampleInput" aria-describedby="emailHelp" placeholder="Enter phone number">
            <label for="exampleInput" class="mt-3">Address</label>
            <input id="customerAddress" type="text" class="form-control" id="exampleInput" aria-describedby="emailHelp" placeholder="Enter your address">
            <button onclick="payment()" class="btn btn-primary float-right mt-3">Check Out</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="foodList" class="container">
    <div class="row" id="showFood">
    </div>
  </div>

  <script type="text/javascript">
    $(document).ready(function () {
      $('.viettinbankPayment').click(function () {
        $('.viettinbankPayment').css('border', '2px solid #2195f3');
        $('.dongaPayment').css('border', '1px solid #d7d7d7');
        $('.namaPayment').css('border', '1px solid #d7d7d7');
        $('.sacomPayment').css('border', '1px solid #d7d7d7');
      });
    });
    $(document).ready(function () {
      $('.dongaPayment').click(function () {
        $('.dongaPayment').css('border', '2px solid #2195f3');
        $('.viettinbankPayment').css('border', '1px solid #d7d7d7');
        $('.namaPayment').css('border', '1px solid #d7d7d7');
        $('.sacomPayment').css('border', '1px solid #d7d7d7');
      });
    });
    $(document).ready(function () {
      $('.namaPayment').click(function () {
        $('.namaPayment').css('border', '2px solid #2195f3');
        $('.viettinbankPayment').css('border', '1px solid #d7d7d7');
        $('.dongaPayment').css('border', '1px solid #d7d7d7');
        $('.sacomPayment').css('border', '1px solid #d7d7d7');
      });
    });
    $(document).ready(function () {
      $('.sacomPayment').click(function () {
        $('.sacomPayment').css('border', '2px solid #2195f3');
        $('.viettinbankPayment').css('border', '1px solid #d7d7d7');
        $('.dongaPayment').css('border', '1px solid #d7d7d7');
        $('.namaPayment').css('border', '1px solid #d7d7d7');
      });
    });
  </script>

  <script>
    window.onscroll = function () { myFunction() };
    function myFunction() {
      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 120) {
        document.getElementById("menu").className = "scrollAddEvent";
      } else {
        document.getElementById("menu").className = "";
      }
    }
  </script>

  <style type="text/css">
    .showAccountMenu {
      display: block !important;
    }
  </style>

  <script type="text/javascript">
    function movetoLogin() {
      document.getElementById("loginBox").style.display = 'block';
      document.getElementById("signupBox").style.display = 'none';
    }
    function movetoSignup() {
      document.getElementById("loginBox").style.display = 'none';
      document.getElementById("signupBox").style.display = 'block';
    }

    $(document).ready(function () {

      $('#menuAccountLogin').on('click', function () {
        $('.frame').toggleClass('showAccountMenu');
      });
    });
    function checkout() {
      document.getElementById("paymentForm").style.display = 'block';
      document.getElementById("checkoutForm").style.display = 'none';
    }
    var bank;
    function viettinbank() {
      bank = "ViettinBank";
    }
    function donga() {
      bank = "DongABank";
    }
    function nama() {
      bank = "NamABank";
    }
    function sacom() {
      bank = "COD";
    }
    function manageTemplate() {
      document.getElementById("foodList").style.display = 'none';
      document.getElementById("manageFood").style.display = 'block';

    }
    function homePage() {
      document.getElementById("foodList").style.display = 'block';
      document.getElementById("manageFood").style.display = 'none';
      foodList();
    }
  </script>

  <script type="text/javascript">
    var foodOrderId = JSON.parse(localStorage.getItem('foodOrderId'));
    if (foodOrderId  === null) {
      foodOrderId  = [];
      var foodOrderId  = 0;
      localStorage.setItem("foodOrderId", JSON.stringify(foodOrderId ));
    }
    var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
    if (commentCustomer === null) {
      commentCustomer = [];
      var commentCustomer = [{}];
      localStorage.setItem("commentCustomer", JSON.stringify(commentCustomer));
    }
    var paymentId = JSON.parse(localStorage.getItem('paymentId'));
    if (paymentId === null) {
      ipaymentId = [];
      var paymentId = 0;
      localStorage.setItem("paymentId", JSON.stringify(paymentId));
    }
    var idup = JSON.parse(localStorage.getItem('idup'));
    if (idup === null) {
      idup = [];
      var idup = 3;
      localStorage.setItem("idup", JSON.stringify(idup));
    }
    var CheckInfo = JSON.parse(localStorage.getItem('CheckInfo'));
    if (CheckInfo === null) {
      CheckInfo = [];
      var CheckInfo = 0;
      localStorage.setItem("CheckInfo", JSON.stringify(CheckInfo));
    }
    var food = JSON.parse(localStorage.getItem('food'));
    if (food === null) {
      food = [];
    }
    var account = JSON.parse(localStorage.getItem('account'));
    if (account === null) {
      account = [];
      var account = [{
        id: 0,
        username: "admin",
        password: "123456",
        level: 1
      }, {
        id: 1,
        username: "b",
        password: "b",
        level: 0
      }, {
        id: 2,
        username: "a",
        password: "a",
        level: 0
      }];
      localStorage.setItem("account", JSON.stringify(account));
    }
    var food = JSON.parse(localStorage.getItem('food'));
    if (food === null) {
      food = [];
      food = [{
        id: 0,
        name: "Fried Chicken",
        price: "90000",
        note: "Đùi cừu nướng với hành và một số gia vị",
        image: "image/foody-upload-api-foody-mobile-suon-10-jpg-181121104208.jpg"
      }, {
        id: 1,
        name: "Combo gà rán",
        price: "50000",
        note: "Bao gồm 2 cánh và 2 đùi gà",
        image: "image/foody-upload-api-foody-mobile-pizza1-190513160013.jpg"
      }, {
        id: 2,
        name: "Vịt quay",
        price: "130000",
        note: "Một con vịt xè ra 2 cái cánh",
        image: "image/foody-upload-api-foody-mobile-vqy-jpg-180827105031.jpg"
      }, {
        id: 3,
        name: "Salmon Sushi",
        price: "90000",
        note: "Cá hồi và một ít hải sản khác",
        image: "image/foody-mobile-10399619_81147453229-527-635863817212109582.jpg"
      }, {
        id: 4,
        name: "Bún đậu",
        price: "50000",
        note: "Bún đậu ăn với mắm tôm và rau",
        image: "image/foody-upload-api-foody-mobile-10-200317093749.jpg"
      }, {
        id: 5,
        name: "Tôm chiên bột",
        price: "60000",
        note: "Không phân biệt là đông hay hè ",
        image: "image/foody-upload-api-foody-mobile-anh-banner-190829105555.jpg"
      }, {
        id: 6,
        name: "Crab",
        price: "300000",
        note: "Không phân biệt là đông hay hè, quán Xuýt ",
        image: "image/foody-upload-api-foody-mobile-canadian-lobster-res-180711100420.jpg"
      }, {
        id: 7,
        name: "Dê nướng BBQ",
        price: "25000",
        note: "Không phân biệt là đông hay hè, quán Xuýt ",
        image: "image/foody-upload-api-foody-mobile-ddh-200214084711.jpg"
      }];
      localStorage.setItem("food", JSON.stringify(food));
    }

    var orderFood = JSON.parse(localStorage.getItem('orderFood'));

    if (orderFood === null) {
      orderFood = [{}];
      localStorage.setItem("orderFood", JSON.stringify(orderFood));
    }
    var infoAccount = JSON.parse(localStorage.getItem('infoAccount'));
    if (infoAccount === null) {
      infoAccount = [];
      var infoAccount = [{}];
      localStorage.setItem("infoAccount", JSON.stringify(infoAccount));
    }
    var checkLogin = JSON.parse(localStorage.getItem('checkLogin'));
    if (checkLogin === null) {
      checkLogin = [];
      var checkLogin = -1;
      localStorage.setItem("checkLogin", JSON.stringify(checkLogin));
    }
    if (checkLogin == -1) {

    } else if (account[checkLogin].level == 0) {
      document.getElementById("statusLogin").innerHTML = "Successfully Logined";
      document.getElementById("menuAccountLogin").innerHTML = account[checkLogin].username;
      document.getElementById("menuAccountLogin").style.display = 'block';
      document.getElementById("menuLoginbtn").style.display = 'none';
      document.getElementById("welcomeUser").innerHTML = "Welcome " + account[checkLogin].username + " !";
      document.getElementById("menuLogout").style.display = 'block';
      document.getElementById("orderManagement").style.display = 'none';
      showOrder();
      demoOrder();
    } else if (account[checkLogin].level == 1) {
      document.getElementById("statusLogin").innerHTML = "Successfully Logined";
      document.getElementById("menuAccountLogin").innerHTML = account[checkLogin].username;
      document.getElementById("menuAccountLogin").style.display = 'block';
      document.getElementById("menuLoginbtn").style.display = 'none';
      document.getElementById("welcomeUser").innerHTML = "Welcome " + account[checkLogin].username + " !";
      document.getElementById("menuLogout").style.display = 'block';
      document.getElementById("orderManagement").style.display = 'block';
      showOrder();
      demoOrder();
    }
    var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
    if (paymentFood === null) {
      paymentFood = [];
      var paymentFood = [{}];
      localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
    }
    console.log(account);

    function Signup() {
      var checkUsername = 0;
      var id = idup;
      var level = 0;
      var username = document.getElementById('usernameSignup').value;
      var password = document.getElementById('passwordSignup').value;
      var Repassword = document.getElementById('repasswordSignup').value;
      if (username != '' && password != '' && Repassword != '' && password == Repassword) {
        for (let i = 0; i < account.length; i++) {
          if (account[i].username == username) {
            checkUsername = 1;
            break;
          }
        }
        if (checkUsername == 0) {
          accountSignup = { id, username, password, level };
          account.push(accountSignup);
          localStorage.setItem("account", JSON.stringify(account));
          checkLogin = id;
          localStorage.setItem("checkLogin", JSON.stringify(checkLogin));
          var id = idup++;
          localStorage.setItem("idup", JSON.stringify(idup));
          console.log(account);
          document.getElementById("statusSignup").innerHTML = "Successfully Registered";
          document.getElementById("menuAccountLogin").innerHTML = username;
          document.getElementById("menuAccountLogin").style.display = 'block';
          document.getElementById("menuLoginbtn").style.display = 'none';
          document.getElementById("welcomeUser").innerHTML = "Welcome " + username + " !";
          document.getElementById("menuLogout").style.display = 'block';
          location.reload();
        } else {
          document.getElementById("statusSignup").innerHTML = "The username has already existed";
        }
      } else {
        document.getElementById("statusSignup").innerHTML = "Please enter full information!";
      }
    }
    function Login() {
      for (i = 0; i < account.length; i++) {
        if ((document.getElementById("usernameLogin").value == account[i].username) && (document.getElementById("passwordLogin").value == account[i].password)) {
          checkLogin = account[i].id;
          localStorage.setItem("checkLogin", JSON.stringify(checkLogin));
          if (account[i].level == 0) {
            document.getElementById("statusLogin").innerHTML = "Successfully Logined";
            document.getElementById("menuAccountLogin").innerHTML = account[i].username;
            document.getElementById("menuAccountLogin").style.display = 'block';
            document.getElementById("menuLoginbtn").style.display = 'none';
            document.getElementById("welcomeUser").innerHTML = "Welcome " + account[i].username + " !";
            document.getElementById("menuLogout").style.display = 'block';
            document.getElementById("orderManagement").style.display = 'none';
            showOrder();
            demoOrder();
            location.reload();
          } else if (account[i].level == 1) {
            document.getElementById("statusLogin").innerHTML = "Successfully Logined";
            document.getElementById("menuAccountLogin").innerHTML = account[i].username;
            document.getElementById("menuAccountLogin").style.display = 'block';
            document.getElementById("menuLoginbtn").style.display = 'none';
            document.getElementById("welcomeUser").innerHTML = "Welcome " + account[i].username + " !";
            document.getElementById("menuLogout").style.display = 'block';
            document.getElementById("orderManagement").style.display = 'block';
            showOrder();
            demoOrder();
            location.reload();
          }
        }
      }
      if (checkLogin == -1) {
        document.getElementById("statusLogin").innerHTML = "Password or Account is wrong";

      }
    }
    function deleteOrder(orderId) {
      for (var i = 0; i < orderFood.length; i++) {
        if (orderId == orderFood[i].orderId && checkLogin == orderFood[i].userOrderId){
          orderFood.splice(i, 1);
          localStorage.setItem("orderFood", JSON.stringify(orderFood));
          showOrder();
          demoOrder();
          break;
        }
      }
    }
    function totalPrice(checkLogin) {
      var totalOrder = 0;
      for (let i = 0; i < orderFood.length; i++) {
        if (checkLogin == orderFood[i].userOrderId) {
          totalOrder += orderFood[i].priceOrder * orderFood[i].quantityOrder;

        }
      }
      document.getElementById("totalPrice").innerHTML = totalOrder + "VND";

    }
    function increaseQuantity(orderId) {
      var completed = 0;
      for (let i = 0; i < orderFood.length; i++) {
        if (orderId == orderFood[i].orderId && checkLogin == orderFood[i].userOrderId) {
          var changeQuantity = document.getElementById('changeQuantity' + i).value;
          orderFood[i].quantityOrder = changeQuantity;
          completed += orderFood[i].priceOrder * orderFood[i].quantityOrder;
          localStorage.setItem("orderFood", JSON.stringify(orderFood));
          showOrder();
        }
      }
    }
    document.getElementById("customerName").value = account[checkLogin].username;
    document.getElementById("customerPhoneNumber").value = infoAccount[checkLogin].customerPhoneNumber;
    document.getElementById("customerAddress").value = infoAccount[checkLogin].customerAddress;
    for (let i = 0; i < orderFood.length; i++) {
      if (infoAccount[i].accountPayment == account[checkLogin].id) {
        CheckInfo = 1;
        localStorage.setItem("CheckInfo", JSON.stringify(CheckInfo));
      } else {
        CheckInfo = 0;
        localStorage.setItem("CheckInfo", JSON.stringify(CheckInfo));
      }
    }
    function payment() {
      var paymentId = JSON.parse(localStorage.getItem('paymentId'));
      var customerName = document.getElementById("customerName").value;
      var customerPhoneNumber = document.getElementById("customerPhoneNumber").value;
      var customerAddress = document.getElementById("customerAddress").value;
      var status = "Confirm...";
      var priceTotal = 0;
      paymentArrPush();
      for (let i = 0; i < orderFood.length; i++) {
        if (orderFood[i].userOrderId == checkLogin) {
          priceTotal += orderFood[i].priceOrder * orderFood[i].quantityOrder;
          quantityPayment = orderFood[i].quantityOrder;

        }
      }
      accountPayment = account[checkLogin].id;
      paymentArr = { paymentId, accountPayment, showDetailOrder, quantityPayment, priceTotal, customerName, customerPhoneNumber, customerAddress, bank, status };
      paymentFood.push(paymentArr);
      localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
      paymentId++;
      localStorage.setItem("paymentId", JSON.stringify(paymentId));
      var CheckInfo = JSON.parse(localStorage.getItem('CheckInfo'));
      if (CheckInfo == 0) {
        infoAccountArr = { accountPayment, customerName, customerPhoneNumber, customerAddress, bank };
        infoAccount.push(infoAccountArr);
        localStorage.setItem("infoAccount", JSON.stringify(infoAccount));
        CheckInfo = 1;
        localStorage.setItem("CheckInfo", JSON.stringify(CheckInfo));
        console.log(paymentFood);
      }
      for (let i = 0; i < orderFood.length; i++) {
        if (checkLogin == orderFood[i].userOrderId) {
          orderFood.splice(i, 5);
          localStorage.setItem("orderFood", JSON.stringify(orderFood));
          location.reload();
        }
      }
    }
    function showOrder() {
      document.getElementById("showOrder").innerHTML = '';
      for (let i = 0; i < paymentFood.length; i++) {
        if (paymentFood[i].accountPayment == checkLogin) {
          document.getElementById("showOrder").innerHTML += paymentFood[i].showDetailOrder;
        }
      }
    }
    function checkorder(id) {
      if (checkLogin == -1) {
        alert("Please Login!");
      } else {
        for (let i = 0; i < orderFood.length; i++) {
          var checkOrderValue = 0;
          if (id == orderFood[i].foodId && checkLogin == orderFood[i].userOrderId) {
            checkOrderValue = 1;
            orderFood[i].quantityOrder++;
            orderFood[i].quantityOrder;
            localStorage.setItem("orderFood", JSON.stringify(orderFood));
            showOrder();
          }
        } if (checkOrderValue == 0) {
          orderPush(id);
          showOrder();
        }
      }
    }
    function orderPush(id) {
      var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
      orderId = foodOrderId ;
      var orderName = food[id].name;
      var priceOrder = food[id].price;
      var orderImg = food[id].image;
      var orderDescription = food[id].note;
      var quantityOrder = 1;
      var userOrderId = checkLogin;
      var foodId = id;
      foodOrder = { orderId, orderName, priceOrder, orderImg, orderDescription, quantityOrder, userOrderId, foodId };
      orderFood.push(foodOrder);
      localStorage.setItem("orderFood", JSON.stringify(orderFood));
      console.log(foodOrder);
      foodOrderId ++;
      localStorage.setItem("foodOrderId ", JSON.stringify(foodOrderId));
      demoOrder();
      showOrder();
      console.log(orderFood);
    }
    function demoOrder() {
      var demoOrder = 0;
      for (let i = 0; i < orderFood.length; i++) {
        if (checkLogin == orderFood[i].userOrderId)
        demoOrder++;
        document.getElementById("orderNumber").innerHTML = demoOrder;

      }
    }
    function showOrder() {
      document.getElementById("showOrderCart").innerHTML = '';
      var orderFood = JSON.parse(localStorage.getItem('orderFood'));
      totalPrice(checkLogin);
      for (let i = 0; i < orderFood.length; i++) {
        if (checkLogin == orderFood[i].userOrderId) {
          var showOrderCart = `<tr>  
      <td><div>
        <div class="cartImgBox float-left">
            <img src="`+ orderFood[i].orderImg + `" width="100%" height="100%">
        </div>
        <div class="cartInfoBox float-left pl-3">
            <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ orderFood[i].orderName + `</p>
            <p style="font-size: 85%">`+ orderFood[i].orderDescription + `</p>
        </div>
      </div> </td>
      <td class="text-center"><input id="changeQuantity`+ i + `" onchange ="increaseQuantity(` + orderFood[i].orderId + `)" class="cartQuantity mt-2" type="number" value="` + orderFood[i].quantityOrder + `" name="" min="1" max="20" style=""> </td>
      <td class="text-center"><p class="mt-2" style="padding:5px;">`+ orderFood[i].priceOrder * orderFood[i].quantityOrder + `VND</p></td>
      <td class="text-center"><div onclick="deleteOrder(`+ orderFood[i].orderId + `)" class="cartDeletebtn"><i class="fa fa-trash" aria-hidden="true" style="color: #fb9200;font-size: 180%"></i></div> </td>
    </tr>`
          document.getElementById("showOrderCart").innerHTML += showOrderCart;
        }
      }
    }
    var showDetailOrder;
    function paymentArrPush() {
      showDetailOrder = '';
      totalPrice(checkLogin);
      for (let i = 0; i < orderFood.length; i++) {
        if (checkLogin == orderFood[i].userOrderId) {
          var cartPush = `<div class="cartImgBox float-left mb-2" style="width: 80px;">
            <img src="`+ orderFood[i].orderImg + `" width="100%" height="100%">
        </div>
        <div class="cartInfoBox float-left pl-3">
            <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ orderFood[i].orderName + `</p>
            <p style="font-size: 85%">`+ orderFood[i].orderDescription + `</p>
        </div>
        <div class="quantity" style="float: right;width: 30px;height: 30px;">
          <p>`+ orderFood[i].quantityOrder + `</p>
        </div><div style="clear:both;"></div>`
          showDetailOrder += cartPush;
        }
      }
    }
    function showUserPayment() {
      document.getElementById("showUserPayment").innerHTML = '';
      var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
      for (let i = 0; i < paymentFood.length; i++) {
        if (checkLogin == paymentFood[i].accountPayment) {
          var showUserCartPayment = `<tr style="border-bottom:1px solid #ccc;">
      <td>
      <p>Recipient's name: `+ paymentFood[i].customerName + `</p>
      <p>Address: `+ paymentFood[i].customerAddress + `</p>
      <p>Phone Number: `+ paymentFood[i].customerPhoneNumber + `</p>
      <p>Bank: `+ paymentFood[i].bank + `</p>
      </td>
      <td>`+ paymentFood[i].showDetailOrder + `<div id="commentBox` + i + `"></div></td>
      <td class="text-center">`+ paymentFood[i].priceTotal + `</td>
      <td class="text-center"><button id="showStatus`+ paymentFood[i].paymentId + `" onclick="paymentSuccess(` + paymentFood[i].paymentId + `)" class="btn btn-warning text-white">` + paymentFood[i].status + `</button></td>
          </tr>
    <tr style="width:100%"></tr>
    `
          document.getElementById("showUserPayment").innerHTML += showUserCartPayment;
        }
      }
    }
    function paymentSuccess(id) {
      for (let i = 0; i < paymentFood.length; i++) {
        if (id == paymentFood[i].paymentId) {
          paymentFood[i].status = "Received";
          localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
          document.getElementById("showStatus" + id).innerHTML = paymentFood[i].status;
          var commentBox = `<div class="p-3 pb-0" style="width: 100%;background: #ff6f47;">
              <div style="float: left;width: 50%">
              <label class=" text-white mb-3" style="width: 100%;">Write a Review</label>
              <input id="textComment`+ id + `" type="passwork" class="form-control text-white" id="repassword"  style="width: 100%;background: #ff8f70;border: 0;outline: none;">
              </div>
            <div class="pt-3" style="float: right;width: 50%">
              <button onclick="sendToAdmin(`+ id + `)" class="btn btn-warning float-right text-white" >Send</button>
              <p id="sendSupport" class="float-right mb-0 mt-3 text-white"></p>
                </div>
               
               <div style="clear: both;"></div>
            </div>`;
          document.getElementById("commentBox" + i).innerHTML += commentBox;
          document.getElementById("coverId" + i).value = id;
        }
      }
    }
    function sendToAdmin(id) {
      var checkLogin = JSON.parse(localStorage.getItem('checkLogin'));
      var commentContent = document.getElementById("textComment" + id).value;
      idPayment = id;
      idUser = checkLogin;
      commentCustomerArr = { idPayment, idUser, commentContent };
      commentCustomer.push(commentCustomerArr);
      localStorage.setItem("commentCustomer", JSON.stringify(commentCustomer));
      document.getElementById("sendSupport").innerHTML = "Submited feedback successfully";
    }
    function foodList() {
      document.getElementById("showFood").innerHTML = '';
      var food = JSON.parse(localStorage.getItem('food'));
      for (let i = 0; i < food.length; i++) {
        var show = `<div class="col-12 col-sm-6 col-md-4 col-lg-3 p-4">
			<div class="procedureBox bg-white shadow-sm">
				<div class="imageBox">
					<img src="`+ food[i].image + `" width="100%" height="100%" style="">
				</div>
				<div class="infoBox p-3 bg-white">
					<p class="float-left font-weight-bold mb-0" style="font-size: 115%">`+ food[i].name + `</p><p class="float-right font-weight-bold mb-2" style="font-size: 115%">` + food[i].price + `VND</p>
					<div style="clear: both;"></div>
					
					<p style="font-size: 85%;height:35px;">`+ food[i].note + `</p>
					<div class="starBox float-left pt-2">
						<img src="icon_star.svg" width="80%">
					</div>
					<div class="orderBox float-right">
						<div onclick="checkorder(`+ food[i].id + `)" class="buttonOrder float-right pt-2">
							<i class="fa fa-plus" aria-hidden="true"></i>
						</div>
					</div>
					<div style="clear: both;"></div>
				</div>
			</div>
		</div>`;
        document.getElementById("showFood").innerHTML += show;
      }
    }
    function changePassword() {
      var account = JSON.parse(localStorage.getItem('account'));
      if (document.getElementById("currentPassword").value == account[checkLogin].password && document.getElementById("newPassword").value == document.getElementById("repeatPassword").value) {
        account[checkLogin].password = document.getElementById("newPassword").value;
        localStorage.setItem("account", JSON.stringify(account));
        document.getElementById("notiChangePass").innerHTML = "Changed password successfully";
        setTimeout(() => location.reload(), 1000);
      } else {
        document.getElementById("notiChangePass").innerHTML = "Wrong Password";
      }
    }
    function Logout() {
      document.getElementById("menuAccountLogin").style.display = 'none';
      document.getElementById("menuLoginbtn").style.display = 'block';
      document.getElementById("menuLogout").style.display = 'none';
      checkLogin = -1;
      localStorage.setItem("checkLogin", JSON.stringify(checkLogin));
      document.getElementById("orderNumber").innerHTML = '0';
      document.getElementById("showOrderCart").innerHTML = '';
      document.getElementById("paymentForm").style.display = 'none';
      document.getElementById("checkoutForm").style.display = 'block';
      document.getElementById("customerName").value = '';
      document.getElementById("customerPhoneNumber").value = '';
      document.getElementById("customerAddress").value = '';
    }
  </script>
  <script type="text/javascript">
    function onloadAll() {
      showUserPayment();
      foodList();
    }
  </script>
</body>
</html>